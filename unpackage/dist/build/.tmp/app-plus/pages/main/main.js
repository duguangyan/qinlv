(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/main"],{"1d55":function(e,a,t){"use strict";(function(e){t("b440"),t("921b");o(t("66fd"));var a=o(t("de1a"));function o(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])},"4d4a":function(e,a,t){"use strict";var o=function(){var e=this,a=e.$createElement;e._self._c},n=[];t.d(a,"a",function(){return o}),t.d(a,"b",function(){return n})},"60f2":function(e,a,t){"use strict";t.r(a);var o=t("e0df"),n=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(a,e,function(){return o[e]})}(i);a["default"]=n.a},"7e4a":function(e,a,t){"use strict";var o=t("817b"),n=t.n(o);n.a},"817b":function(e,a,t){},de1a:function(e,a,t){"use strict";t.r(a);var o=t("4d4a"),n=t("60f2");for(var i in n)"default"!==i&&function(e){t.d(a,e,function(){return n[e]})}(i);t("7e4a");var s=t("2877"),u=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,"1485baab",null);a["default"]=u.exports},e0df:function(e,a,t){"use strict";(function(e,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;t("2f62");var n=t("7d15"),i=t("7384");s(t("e0d7"));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){return t.e("components/common/TabBar").then(t.bind(null,"4d22"))},l={data:function(){return{checkIndex:0,homeList:{},banner:[],navs:[],advs:[],seles:[],indicatorDots:!0,autoplay:!0,interval:3e3,duration:500,platform:0}},components:{TabBar:u},onTabItemTap:function(a){e.setStorageSync("pagePath","main")},onLoad:function(){e.setStorageSync("pagePath","main"),this.updataApp(),this.platform=e.getStorageSync("platform")},onShow:function(){e.hideLoading(),this.getHomeList()},onPullDownRefresh:function(){console.log(o("refresh"," at pages\\main\\main.vue:137")),this.getHomeList(),setTimeout(function(){e.stopPullDownRefresh()},1e3)},methods:{updataApp:function(){var a={code:"001"};"2"==this.platform&&(a.code="002"),(0,i.appUpdate)(a).then(function(a){if(console.log(o(a," at pages\\main\\main.vue:158")),"1000"==a.code&&a.data){var t=0;1==a.data.forceUpdate&&(t=1),plus.runtime.getProperty(plus.runtime.appid,function(n){var i=n.version.split("."),s=a.data.version.split(".");console.log(o(i+"-"+s," at pages\\main\\main.vue:174")),i[1]<s[1]?a.data.packagePath&&e.showModal({title:"版本更新",content:"有新的版本发布,是否立即进行新版本下载？",cancelText:0==t?"取消":"退出",success:function(n){if(n.confirm)if(e.showLoading({title:"正在跳转..."}),"10"==e.getStorageSync("platformAndroid")){console.log(o("packagePath:",a.data.packagePath," at pages\\main\\main.vue:187"));var i=plus.downloader.createDownload(a.data.packagePath,{},function(a,t){200==t?plus.runtime.install(plus.io.convertLocalFileSystemURL(a.filename),{},{},function(a){e.showToast({title:"安装失败",mask:!1,duration:1500}),e.hideLoading()}):(e.showToast({title:"更新失败",mask:!1,duration:1500}),e.hideLoading())});i.start()}else{var s=encodeURI("itms-apps://itunes.apple.com/cn/app/上上农夫/id1484601336?l=zh&mt=8");console.log(o("ios->",s," at pages\\main\\main.vue:211")),plus.runtime.openURL(s)}else n.cancel&&(console.log(o(t," at pages\\main\\main.vue:215")),1==t&&("Android"==plus.os.name?plus.runtime.quit():plus.ios.import("UIApplication").sharedApplication().performSelector("exit")),console.log(o("用户点击取消"," at pages\\main\\main.vue:220")))}}):i[2]<s[2]&&a.data.updatePackagePath&&e.showModal({title:"版本更新",content:"有新的版本发布,是否立即进行新版本下载？",cancelText:0==t?"取消":"退出",success:function(n){n.confirm?(e.showLoading({title:"正在下载..."}),e.downloadFile({url:a.data.updatePackagePath,success:function(a){200===a.statusCode&&(e.hideLoading(),plus.runtime.install(a.tempFilePath,{force:!1},function(a){console.log(o("install success...",a," at pages\\main\\main.vue:245")),e.hideLoading(),plus.runtime.restart()},function(a){e.hideLoading(),console.error(o("install fail...",a," at pages\\main\\main.vue:250"))}))}}),setTimeout(function(){e.hideLoading()},2e3)):n.cancel&&(console.log(o("用户点击取消"," at pages\\main\\main.vue:259")),console.log(o(t," at pages\\main\\main.vue:260")),1==t&&("Android"==plus.os.name?plus.runtime.quit():plus.ios.import("UIApplication").sharedApplication().performSelector("exit")))}})})}})},goadSet:function(a){(0,n.addHit)({id:a.id}),1==a.type?e.navigateTo({url:"/pages/common/webview/webview?url="+a.url}):5==a.type&&e.navigateTo({url:"/pages/order/goodsDetail/goodsDetail?shopId=1&goodsId="+a.url})},goSearchPage:function(a){e.navigateTo({url:"/pages/order/goodsList/goodsList?search="+a})},goSearch:function(){e.navigateTo({url:"/pages/main/search/search"})},getHomeList:function(){var e=this;(0,n.getHomeList)({parentId:1}).then(function(a){"1000"==a.code&&(e.homeList=a.data,e.homeList.list[3].list[1].goodsDetailRespList.forEach(function(e,a){e.valueAddr=e.valueAddr.substring(0,5)}))})},goNextPage:function(a){(0,n.addHit)({id:a.id}),5==a.type?e.navigateTo({url:"/pages/order/goodsDetail/goodsDetail?shopId="+a.shopId+"&goodsId="+a.id}):1==a.type&&e.navigateTo({url:"/pages/common/webview/webview?url="+a.url})},goGoodsDetail:function(a,t){e.navigateTo({url:"/pages/order/goodsDetail/goodsDetail?shopId="+a+"&goodsId="+t})}}};a.default=l}).call(this,t("6e42")["default"],t("0de9")["default"])}},[["1d55","common/runtime","common/vendor"]]]);