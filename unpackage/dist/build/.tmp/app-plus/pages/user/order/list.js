(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/order/list"],{"0610":function(t,e,o){},"20f7":function(t,e,o){"use strict";(function(t,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o("7384"),n=d(o("e0d7"));function d(t){return t&&t.__esModule?t:{default:t}}var a=function(){return o.e("components/order/Good").then(o.bind(null,"d97b"))},i=function(){return Promise.all([o.e("common/vendor"),o.e("components/common/Pay")]).then(o.bind(null,"b0d6"))},u=function(){return o.e("components/common/Dialog").then(o.bind(null,"3b86"))},c={name:"ordlist",data:function(){return{title:"确认收货吗?",hasOrders:!1,isShow:!1,orderId:"",shopId:"",orders:[],tabs:[{name:"全部",status:""},{name:"待付款",status:0},{name:"待发货",status:2},{name:"待收货",status:3},{name:"已完成",status:4}],pageIndex:1,pageSize:10,status:"",allLoaded:!1,loadText:"上拉加载更多...",isPayShow:!1,nowIndexPrice:0,isWx:!0,payOrderId:"",navIndex:0,platform:0}},components:{Good:a,Pay:i,Dialog:u},onReachBottom:function(){this.loadBottom()},onPullDownRefresh:function(){console.log(t("refresh"," at pages\\user\\order\\list.vue:123")),this.orders=[],this.getOrders(),setTimeout(function(){s.stopPullDownRefresh()},1e3)},onLoad:function(){this.platform=s.getStorageSync("platform")},onShow:function(){var t=s.getStorageSync("orderNavIndex");t&&(this.status="1"===t?0:t,this.navIndex=t),this.orders=[],this.getOrders()},methods:{doConfirm:function(){var t=this,e={orderId:this.orderId,shopId:this.shopId};this.orderId&&this.shopId?(0,r.postOrderConfirm)(e).then(function(e){"1000"===e.code?(t.isShow=!1,t.goFinshPage()):n.default.tips(e.message||"确认收货失败")}).catch(function(t){n.default.tips(t.message||"确认收货失败")}):n.default.tips("确认收货失败")},doCancel:function(){this.isShow=!1},goDetail:function(t,e,o){var r=this.orders[t];s.navigateTo({url:"/pages/user/order/detail?orderId="+r.orderId+"&shopId="+r.shopId})},goFreight:function(t){var e=this.orders[t];s.navigateTo({url:"/pages/user/order/freight?orderId="+e.orderId+"&shopId="+e.shopId})},goFinshPage:function(t){s.navigateTo({url:"/pages/user/order/success?orderId="+this.orders[t].orderId+"&shopId="+this.orders[t].shopId})},doPay:function(t){},postOrderConfirm:function(t){this.isShow=!0,this.orderId=this.orders[t].orderId,this.shopId=this.orders[t].shopId},showPay:function(t){this.nowIndexPrice=this.orders[t].payMoney,this.payOrderId=this.orders[t].orderId,this.isPayShow=!this.isPayShow},payClose:function(t){this.isPayShow=!this.isPayShow},changePosi:function(t){this.navIndex=t,s.setStorageSync("orderNavIndex",t),this.status=this.tabs[t].status,this.orders=[],this.pageIndex=1,this.allLoaded=!1,this.loadText="上拉加载更多...",this.getOrders()},loadBottom:function(){var t=this;setTimeout(function(){t.allLoaded||(t.pageIndex++,t.getOrders())},500)},getOrders:function(){var t=this,e={pageIndex:this.pageIndex,status:this.status,pageSize:this.pageSize};(0,r.getOrderPageMyOrder)(e).then(function(e){"1000"===e.code?(t.orders=t.orders.concat(e.data.records),t.hasOrders=t.orders.length<=0,t.orders.length>=e.data.total&&(t.allLoaded=!0,t.loadText="数据已经加载完毕")):n.default.tips(e.message||"获取订单列表失败")}).catch(function(t){n.default.tips(t.message||"获取订单列表失败")})}}};e.default=c}).call(this,o("0de9")["default"],o("6e42")["default"])},"24b6":function(t,e,o){"use strict";o.r(e);var s=o("fb37"),r=o("74da");for(var n in r)"default"!==n&&function(t){o.d(e,t,function(){return r[t]})}(n);o("75ccd");var d=o("2877"),a=Object(d["a"])(r["default"],s["a"],s["b"],!1,null,"7548d45c",null);e["default"]=a.exports},"74da":function(t,e,o){"use strict";o.r(e);var s=o("20f7"),r=o.n(s);for(var n in s)"default"!==n&&function(t){o.d(e,t,function(){return s[t]})}(n);e["default"]=r.a},"75ccd":function(t,e,o){"use strict";var s=o("0610"),r=o.n(s);r.a},f062:function(t,e,o){"use strict";(function(t){o("b440"),o("921b");s(o("66fd"));var e=s(o("24b6"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},fb37:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,s=(t._self._c,o("8763")),r=o("8b8c");t.$mp.data=Object.assign({},{$root:{m0:s,m1:r}})},r=[];o.d(e,"a",function(){return s}),o.d(e,"b",function(){return r})}},[["f062","common/runtime","common/vendor"]]]);