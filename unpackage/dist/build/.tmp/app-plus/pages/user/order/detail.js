(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/order/detail","components/common/Dialog"],{"18da":function(t,e,r){"use strict";var o=r("f1b8"),s=r.n(o);s.a},"29ee":function(t,e,r){"use strict";(function(t){r("b440"),r("921b");o(r("66fd"));var e=o(r("9358"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,r("6e42")["createPage"])},"2d18":function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r("7384"),s=n(r("e0d7"));n(r("3b86"));function n(t){return t&&t.__esModule?t:{default:t}}var i=function(){return r.e("components/order/Good").then(r.bind(null,"d97b"))},a=function(){return Promise.all([r.e("common/vendor"),r.e("components/common/Pay")]).then(r.bind(null,"b0d6"))},d={name:"orddetail",data:function(){return{title:"确认收货吗?",isShow:!1,isWx:!1,isPayShow:!1,order:{},orderId:"",shopId:"",statusText:"",status:"",nowIndexPrice:0,isOrderDialog:0,isPay:0,platform:0}},components:{Good:i,Pay:a},onLoad:function(e){this.orderId=e.orderId,this.shopId=e.shopId||1,this.platform=t.getStorageSync("platform")},onShow:function(){this.orderId?this.getOrderDetailById(this.orderId,this.shopId):(s.default.tips("订单ID或店铺ID不能为空"),setTimeout(function(){t.switchTab({url:"/pages/main/main"})},1500))},methods:{doCancel:function(){this.isShow=!1},doConfirm:function(){var t=this;if(0==t.isOrderDialog){if(this.orderId){var e={orderId:this.orderId};(0,o.postOrderCancel)(e).then(function(e){"1000"===e.code?(t.status=-1,t.statusText="已取消",t.order.leftTimeTip="",t.isShow=!1):s.default.tips(e.message||"取消订单失败")}).catch(function(t){s.default.tips(t.message||"取消订单失败")})}}else{var r={orderId:this.order.shopOrder.orderId,shopId:this.order.shopOrder.shopId};t.order.shopOrder.orderId&&t.order.shopOrder.shopId?(0,o.postOrderConfirm)(r).then(function(e){"1000"===e.code?(t.isShow=!1,t.goFinshPage()):s.default.tips(e.message||"确认收货失败")}).catch(function(t){s.default.tips(t.message||"确认收货失败")}):s.default.tips("确认收货失败")}},doPay:function(t){},showPay:function(){this.isPayShow=!this.isPayShow,this.nowIndexPrice=this.order.shopOrder.totalMoney},payClose:function(){this.isPayShow=!this.isPayShow},goFinshPage:function(e){t.navigateTo({url:"/pages/user/order/success?orderId="+this.order.shopOrder.orderId+"&shopId"+this.order.shopOrder.shopId})},postOrderConfirm:function(){this.isShow=!0,this.isOrderDialog=1},goFreight:function(){this.order.expressDetails&&(this.order.shopOrder.orderId&&this.order.shopOrder.shopId?t.navigateTo({url:"/pages/user/order/freight?orderId="+this.order.shopOrder.orderId+"&shopId="+this.order.shopOrder.shopId}):s.default.tips("此订单异常，请联系管理员"))},postOrderCancel:function(){this.isShow=!0,this.isOrderDialog=0},getOrderDetailById:function(t,e){var r=this,n={orderId:t};e&&(n.shopId=e),(0,o.getOrderDetailById)(n).then(function(t){if("1000"===t.code){if(r.order=t.data[0],r.statusText="",r.order.shopOrder)switch(r.status=r.order.shopOrder.status,r.status){case-1:r.statusText="已取消";break;case 0:r.statusText="待付款";break;case 1:r.statusText="已支付";break;case 2:r.statusText="待发货";break;case 3:r.statusText="待收货";break;case 4:r.statusText="已完成";break;case 5:r.statusText="已关闭";break}}else s.default.tips(t.message||"获取订单详情失败")}).catch(function(t){s.default.tips(t.message||"订单详情获取失败")})}}};e.default=d}).call(this,r("6e42")["default"])},"3b86":function(t,e,r){"use strict";r.r(e);var o=r("d408"),s=r("c5b0");for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);r("18da");var i=r("2877"),a=Object(i["a"])(s["default"],o["a"],o["b"],!1,null,"60061646",null);e["default"]=a.exports},"84b9":function(t,e,r){},9358:function(t,e,r){"use strict";r.r(e);var o=r("b8fb"),s=r("c740");for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);r("9ad0");var i=r("2877"),a=Object(i["a"])(s["default"],o["a"],o["b"],!1,null,"e098a4ca",null);e["default"]=a.exports},"9ad0":function(t,e,r){"use strict";var o=r("84b9"),s=r.n(o);s.a},"9b91":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"customdialog",props:{title:{type:String,default:"标题"},isShow:{type:Boolean,default:!1},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确认"}},data:function(){return{isMask:!0,callback:null}},methods:{doConfirm:function(){this.$emit("doConfirm","")},doCancel:function(){this.$emit("doCancel","")}}};e.default=o},b8fb:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,o=(t._self._c,r("5feb")),s=r("4b2b"),n=r("c43b"),i=r("4573"),a=r("06b2"),d=r("8b8c");t.$mp.data=Object.assign({},{$root:{m0:o,m1:s,m2:n,m3:i,m4:a,m5:d}})},s=[];r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s})},c5b0:function(t,e,r){"use strict";r.r(e);var o=r("9b91"),s=r.n(o);for(var n in o)"default"!==n&&function(t){r.d(e,t,function(){return o[t]})}(n);e["default"]=s.a},c740:function(t,e,r){"use strict";r.r(e);var o=r("2d18"),s=r.n(o);for(var n in o)"default"!==n&&function(t){r.d(e,t,function(){return o[t]})}(n);e["default"]=s.a},d408:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},s=[];r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s})},f1b8:function(t,e,r){}},[["29ee","common/runtime","common/vendor"]]]);